# 862. Shortest Subarray with Sum at Least K

## Similar question
这道题是209的升级版，唯一区别是209给的数组都是整数，而这道题的数组有正有负数, 这一点不同就导致了解法差别很大
![alt text](image-4.png)

## Approach 1 - 最优解: prefixSum + 单调队列
- time: o(n)
- space: O(n)
- queue里面存的是前缀和数组的index, 不是前缀和

![alt text](image-5.png)
![alt text](image-6.png)
![alt text](image-7.png)

```java
class Solution {
    public int shortestSubarray(int[] A, int K) {
        int N = A.length, res = Integer.MAX_VALUE;

        long[] sum = new long[N + 1]; // 必须用 long， 否则会integer overflow
        for (int i = 0; i < N; i++) {
            sum[i + 1] = sum[i] + A[i];
        }

        Deque<Integer> q = new ArrayDeque<>(); // que里面放的是index
        for (int i = 0; i < N + 1; i++) {
            while (!q.isEmpty() && sum[q.peekLast()] >= sum[i]) {
                q.pollLast();
            }

            while (!q.isEmpty() && sum[i] - sum[q.peekFirst()] >= K) {
                res = Math.min(res, i - q.pollFirst());
            }

            q.offerLast(i);
        }

        return minLen == Integer.MAX_VALUE? -1: minLen;
    }
}
```