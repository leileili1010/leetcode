# 1094. Car Pooling

## Approach - 差分数组
- determine the maximum drop-off location so we can size our array properly. This tells us how long our "road" needs to be.
- create a difference array, which is commonly used to efficiently perform range updates.
    - diff[i] means how much the number of passengers changes at location i.
    - At pickup: we add the passengers.
    - At drop-off: we subtract them.
We go through the whole route from 0 to maxLen, and at each location, we:
    - Add the passenger change (sum += diff[i])
    - Check if total passengers exceed capacity.
    - If at any point the number of passengers exceeds the car’s capacity → return false.

```java
class Solution {
    public boolean carPooling(int[][] trips, int capacity) {
        int maxLen = 0;
        for (int[] trip: trips) {
            maxLen = Math.max(maxLen, trip[2]); 
        }

        int[] diff = new int[maxLen + 1]; 

        for (int[] trip: trips) {
            int val = trip[0]; 
            int start = trip[1]; 
            int end = trip[2]; 
            diff[start] += val; // 累加 
            diff[end] += -val; // 累加
         }
        
        int sum = 0; 
        for (int i = 0; i < diff.length; i++) { 
            sum += diff[i]; 
            if (sum > capacity) return false; 
            // diff[i] = sum; this is redundent 
        }
        return true;
    }
}
```
