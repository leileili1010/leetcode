# 733. Flood Fill

## Approach 1 - BFS
- 时间复杂度：O(n×m)，其中 n 和 m 分别是二维数组的行数和列数。最坏情况下需要遍历所有的方格一次。
- 空间复杂度：O(n×m)，其中 n 和 m 分别是二维数组的行数和列数。主要为队列的开销。

```java
class Solution {
    private static final int[][] DIRS = {{0, 1}, {0, -1}, {1, 0}, {-1, 0}};

    public int[][] floodFill(int[][] image, int sr, int sc, int color) {
        // corner case 很容易被忽略，如果image全是0，color = 0, 会导致无限循环超时
        int original = image[sr][sc];
        if (original == color) return image;

        int rows = image.length, cols = image[0].length;
        Deque<int[]> queue = new ArrayDeque<>();
        queue.offer(new int[]{sr, sc});
        image[sr][sc] = color;

        while (!queue.isEmpty()) {
            int[] cur = queue.poll();

            for (int[] dir: DIRS) {
                int x = dir[0] + cur[0];
                int y = dir[1] + cur[1];

                if (x >= 0 && x < rows && y >= 0 && y < cols && image[x][y] == original) {
                    queue.offer(new int[]{x, y});
                    image[x][y] = color;
                } 
            }
        }
        return image;
    }
}
```

## Approach 2 - DFS

- 时间复杂度：O(n×m)，其中 n 和 m 分别是二维数组的行数和列数。最坏情况下需要遍历所有的方格一次。
- 空间复杂度：O(n×m)，其中 n 和 m 分别是二维数组的行数和列数。主要为栈空间的开销。

```java
class Solution {
    private static final int[][] DIRS = {{0, 1}, {0, -1}, {1, 0}, {-1, 0}};
    
    public int[][] floodFill(int[][] image, int sr, int sc, int color) {
        int original = image[sr][sc];
        if (original != color) {
            dfs(image, sr, sc, original, color);
        }    
        return image;
    }

    private void dfs(int[][] image, int sr, int sc, int original, int color) {
        if (image[sr][sc] != original) return;
        image[sr][sc] = color;

        for (int[] dir: DIRS) {
            int x = dir[0] + sr;
            int y = dir[1] + sc;

            if (x >= 0 && x < image.length && y >= 0 && y < image[0].length && image[x][y] == original) {
                dfs(image, x, y, original, color);
            } 
        }
    }
}
```