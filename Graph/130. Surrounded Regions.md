# 130. Surrounded Regions

![alt text](image-14.png)

[tutoria](https://www.youtube.com/watch?v=9z2BunfoZ5Y)

## Approach - BFS

![alt text](image-19.png)

- 这道题需要我们来理解一下题意，如果一个region 是和edge连接的话，我们不能change O to X (如图所示)
- 既然如此，思路就变成走一遍border, 看有没有O，这些都是不能改变的O，所以我们把他们改成T
- 然后loop整个grid, 把遇到的O改成X, 把遇到的T改成O

```java
class Solution {
    int rows;
    int cols;
    int[][] dirs = {{1, 0}, {-1, 0}, {0, 1}, {0, -1}};
    
    public void solve(char[][] board) {
        rows = board.length;
        cols = board[0].length;

        // 1. loop 4 edges
        // 1-1 loop top and bottom edges
        for (int i = 0; i < rows; i++) {
            if (board[i][0] == 'O') bfs(board, i, 0);
            if (board[i][cols-1] == 'O') bfs(board, i, cols-1);
        }

        // 1-2 loop left and right edges
        for (int j = 0; j < cols; j++) {
            if (board[0][j] == 'O') bfs(board, 0, j);
            if (board[rows-1][j] == 'O') bfs(board, rows-1, j);
        }

        // 2. change cell value: O to X and T to O
        for (int i = 0; i < rows; i++) {
            for (int j = 0; j < cols; j++) {
                if (board[i][j] == 'O') {
                    board[i][j] = 'X';
                } else if (board[i][j] == 'T') {
                    board[i][j] = 'O';
                }
            }
        }

    }

    // 不需要visited 来去重 我们直接用T来判断
    public void bfs(char[][] board, int row, int col) {
        Deque<int[]> que = new ArrayDeque<>();
        board[row][col] = 'T'; //very important
        que.add(new int[] {row, col});

        while (!que.isEmpty()) {
            int[] node = que.poll();
            row = node[0];
            col = node[1];

            for (int[] dir: dirs) {
                int newRow = row + dir[0];
                int newCol = col + dir[1];

                if (0 <= newRow && newRow < rows && newCol < cols && 0 <= newCol && board[newRow][newCol] == 'O') {
                    board[newRow][newCol] = 'T';
                    que.add(new int[] {newRow, newCol});
                }
            }
        }
    } 
}

```

![alt text](image-15.png)
![alt text](image-16.png)