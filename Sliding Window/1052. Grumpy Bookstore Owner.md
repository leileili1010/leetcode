
# 1052. Grumpy Bookstore Owner
- time: O(N)
- space: O(1)

## Approach 

è¿™é“é¢˜çš„è§£æ³•éå¸¸å·§å¦™ï¼Œæ ¸å¿ƒåˆ†ä¸ºä¸¤éƒ¨åˆ†ï¼š  
1. **åˆå§‹åŒ–è®¡ç®— base æ»¡æ„é¡¾å®¢æ•°**  
2. **æ»‘åŠ¨çª—å£è®¡ç®—é¢å¤–å¯æŒ½å›çš„é¡¾å®¢æ•°**

---

- Step 1. Base Calculation é¦–å…ˆæˆ‘ä»¬è¦è®¡ç®—ä¸€ä¸ª **base** çš„ `customer satisfaction`ã€‚  
    - åœ¨å‰ `minutes` è¿™ä¸ªçª—å£å†…ï¼Œ**æ— è®ºè€æ¿æ˜¯å¦ grumpy**ï¼Œé¡¾å®¢éƒ½å¯ä»¥è¢«æ»¡æ„ï¼ˆå› ä¸ºæˆ‘ä»¬å¯ä»¥é€‰æ‹©æŠŠè¿™ä¸ªçª—å£è®¾ä¸ºä¸ grumpyï¼‰ã€‚  
        - å› æ­¤åœ¨ `i < minutes` çš„æ—¶å€™ï¼Œæˆ‘ä»¬ç›´æ¥æŠŠ `customers[i]` åŠ åˆ° sum é‡Œã€‚  
        - å¯¹äºå…¶ä»–ä½ç½® `i >= minutes`ï¼Œåˆ™æ ¹æ® `grumpy[i]` æ¥å†³å®šæ˜¯å¦åŠ ï¼š  
        - å¦‚æœ `grumpy[i] = 0`ï¼Œé¡¾å®¢æœ¬æ¥å°±æ»¡æ„ â†’ å¯ä»¥åŠ   
        - å¦‚æœ `grumpy[i] = 1`ï¼Œé¡¾å®¢æœ¬æ¥ä¸æ»¡æ„ â†’ ä¸åŠ   
        - sum += (1 - grumpy[i]) * customers[i]

- Step 2. Sliding Window æ¥ä¸‹æ¥æ˜¯ä¸»è¦çš„ **æ»‘åŠ¨çª—å£å®ç°**
    - ç”¨ `i` ä½œä¸ºå³æŒ‡é’ˆï¼Œä» `minutes` å¼€å§‹å¾ªç¯ï¼ˆå› ä¸ºå‰ `minutes` å·²ç»ç®—è¿‡äº†ï¼‰ã€‚
    - ğŸ‘‰ çª—å£æ‰©å±•
        - å½“çª—å£å³ç§»åˆ°æ–°çš„ä½ç½® `i` æ—¶ï¼š
        - å¦‚æœ `grumpy[i] == 1`ï¼Œè¯´æ˜è¿™ä¸ªé¡¾å®¢åŸæœ¬ä¸æ»¡æ„ï¼Œä½†å› ä¸ºè¿›å…¥äº†çª—å£ï¼Œå¯ä»¥è¢«æŒ½å›ï¼Œæ‰€ä»¥ï¼š
        - sum += customers[i]
    - ğŸ‘‰ çª—å£æ”¶ç¼©
        - å½“çª—å£å·¦ç«¯ `left` å‘å³ç§»åŠ¨æ—¶ï¼š
        - å¦‚æœ `grumpy[left] == 1`ï¼Œè¯´æ˜è¿™ä¸ªé¡¾å®¢åŸæœ¬æ˜¯é€šè¿‡çª—å£è¢«æŒ½å›çš„ï¼Œä½†ç°åœ¨çª—å£ç¼©å°äº†ï¼Œä»–å°±ä¸èƒ½å†è¢«æŒ½å›ï¼Œéœ€è¦å‡æ‰ï¼š
        - sum -= customers[left], left++
```java
class Solution {
    public int maxSatisfied(int[] customers, int[] grumpy, int minutes) {
        int n = customers.length; // 4
        int sum = 0;

        // åˆå§‹åŒ–
        for (int i = 0; i < n; i++) { 
            if (i < minutes) { 
                sum += customers[i];
            } else {
                sum += (1-grumpy[i]) * customers[i]; 
            }
        } // sum = 8

        int left = 0, res = sum; // res = 8
        for (int i = minutes; i < n; i++) { // i = 3
            if (grumpy[i] == 1) sum += customers[i]; // sum = 23
            if (grumpy[left] == 1) sum -= customers[left]; // left = 2
            res = Math.max(res, sum); // res = 14
            left++; 
        }

        return res;
    }
}
```